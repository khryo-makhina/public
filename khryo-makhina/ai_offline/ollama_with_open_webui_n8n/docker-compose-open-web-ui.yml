# This was generated by https://copilot.microsoft.com ... mostly

# Build the Docker image:
# docker-compose -f docker-compose-open-web-ui.yml build

# Start the services
# docker-compose -f docker-compose-open-web-ui.yml up -d

# To access the ollama CLI in Docker Desktop:
# docker exec -it ollama bash

services:
  open-webui:
    image: ghcr.io/open-webui/open-webui:main
    container_name: open-webui
    restart: always
    ports:
      - "3000:8080"
    environment:
      - OLLAMA_BASE_URL=http://ollama_with_open_webui_n8n:11434 # Point to the existing container
    volumes:
      - ./open_webui_data:/app/backend/data # Map to Windows directory for persistent storage
    extra_hosts:
      - "host.docker.internal:host-gateway"

networks:
  default:
    external: true
    name: ai_offline_network # Use the same network as defined in the original file
